<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>QueryTemplates javaScript demo</title>
<script type="text/javascript" src="jquery-1.3.2.js"></script>
<script type="text/javascript" src="QueryTemplatesLight.js"></script>
<!--<script type="text/javascript" src="QueryTemplatesLight.min.js"></script>-->
<script type="text/javascript">
var data_valuesToLoop = [
     {
         'User': {'name': 'foo'},
         'Tags': [
             {'tag': 'php'},
             {'tag': 'js'}
         ]
     },
     {
         'User': {'name': 'bar'},
         'Tags': [
             {'tag': 'perl'}
         ]
     },
     {
         'User': {'name': 'fooBar'},
         'Tags': [
             {'tag': 'php'},
             {'tag': 'js'},
             {'tag': 'perl'}
         ]
     }
];
var data_valuesToForm = {
  'text-example': 'new',
  'checkbox-example': true,
  'radio-example': 'second',
  'select-example': 'second',
  'textarea-example': 'new',
};
function valuesToLoop() {
	$('body > ul > li')
		.valuesToLoop(data_valuesToLoop, function(row) {
				this.valuesToSelector(row.User, 'span.%k')
						.find('> ul > li')
								.valuesToLoop(row.Tags, function(tag) {
										this.valuesToSelector(tag);
								})
				;
		});
}
function valuesToForm() {
	$('form.valuesToForm')
		.valuesToForm(data_valuesToForm);
}
$(function(){
	$('button.valuesToLoop').click(function(){
		valuesToLoop();
	});
	$('button.valuesToForm').click(function(){
		valuesToForm();
	});
});
</script>
</head>
<body>
<h1><a href='http://code.google.com/p/querytemplates/'>QueryTemplates</a> Light for JavaScript</h1>
<h2><a href='http://code.google.com/p/querytemplates/wiki/valuesToLoopMethodJS'>valuesToLoop</a> demo</h2>
<h4>Data</h4>
<pre>
var data = [
     {
         'User': {'name': 'foo'},
         'Tags': [
             {'tag': 'php'},
             {'tag': 'js'}
         ]
     },
     {
         'User': {'name': 'bar'},
         'Tags': [
             {'tag': 'perl'}
         ]
     },
     {
         'User': {'name': 'fooBar'},
         'Tags': [
             {'tag': 'php'},
             {'tag': 'js'},
             {'tag': 'perl'}
         ]
     }
];
</pre>
<h4>Code</h4>
<pre>
$('body &gt; ul &gt; li')
  .valuesToLoop(data, function(row) {
      this.valuesToSelector(row.User, 'span.%k')
          .find('&gt; ul &gt; li')
              .valuesToLoop(row.Tags, function(tag) {
                  this.valuesToSelector(tag);
              })
      ;
  });
</pre>
<button class='valuesToLoop'>Test code above</button>
<ul>
     <li class='row'>
         <span class='name'>fake name</span>
         <ul class='tags'>
             <li class='tag'>
                 <span class='tag'>fake tag</span>
             </li>
         </ul>
     </li>
</ul>
<h2><a href='http://code.google.com/p/querytemplates/wiki/valuesToFormMethodJS'>valuesToForm</a> demo</h2>
<h4>Data</h4>
<pre>
data = {
  'text-example': 'new',
  'checkbox-example': true,
  'radio-example': 'second',
  'select-example': 'second',
  'textarea-example': 'new',
};
</pre>
<h4>Code</h4>
<pre>
$('form')
  .valuesToForm(data);
</pre>
<button class='valuesToForm'>Test code above</button>
<blockquote>
	<form class='valuesToForm'>
		<dl>
			<dt>text-example</dt>
			<dd><input type='text' name='text-example' value='old'></dd>
		</dl>
		<dl>
			<dt>checkbox-example</dt>
			<dd><input type='checkbox' name='checkbox-example' value='foo'></dd>
		</dl>
		<dl>
			<dt>radio-example</dt>
			<dd>
				<input type='radio' name='radio-example' value='first' checked='checked'>
				<input type='radio' name='radio-example' value='second'>
			</dd>
		</dl>
		<dl>
			<dt>select-example</dt>
			<dd>
				<select name='select-example'>
					<option value='first' selected='selected'>first</option>
			  	<option value='second'>second</option>
				</select>
			</dd>
		</dl>
		<dl>
			<dt>textarea-example</dt>
			<dd><textarea name='textarea-example'>old</textarea></dd>
		</dl>
	</form>
</blockquote>
</body>
</html>